package com.tmax.openframe.variable;

import com.tmax.openframe.runtime.cobol.CobStream;
import com.tmax.openframe.variable.group.*;
import java.math.*;
import java.util.*;
import lombok.*;
import org.apache.commons.lang3.StringUtils;

/** 
 * <p>This source code was generated by T-Up OpenFrame COBOL to Java migrator</p>
 * <p>  Generation date : 2024/03/20 15:15:09 KST</p>
 * <hr>
 * <p>Class that defines variables that defined in the data division of COBOL program</p>
 */
public class Cbact01cVariableContainer {
    // *****************************************************************
    //       *COPY CVACT01Y.
    // *(/home/oflab/repository/pds/TEST/COBOL_COPYBOOK/CVACT01Y.cpy)
    // *****************************************************************
    // *    Data-structure for  account entity (RECLN 300)
    // *****************************************************************
    // [T-Up#INFO][CVACT01Y.cpy:5] ACCOUNT-RECORD (level: 1)
    private @Getter @Setter AccountRecord accountRecord = new AccountRecord();
    // *
    // * Ver: CardDemo_v1.0-15-g27d6c6f-68 Date: 2022-07-19 23:15:59 CDT
    // *
    // [T-Up#INFO][CBACT01C.cbl:57] ACCTFILE-STATUS (level: 1)
    private @Getter @Setter Cbact01cAcctfileStatus acctfileStatus = new Cbact01cAcctfileStatus();
    // [T-Up#INFO][CBACT01C.cbl:61] IO-STATUS (level: 1)
    private @Getter @Setter Cbact01cIoStatus ioStatus = new Cbact01cIoStatus();
    // [T-Up#INFO][CBACT01C.cbl:64] TWO-BYTES-BINARY (level: 1)
    private @Getter @Setter int twoBytesBinary;
    // [T-Up#INFO][CBACT01C.cbl:68] IO-STATUS-04 (level: 1)
    private @Getter @Setter Cbact01cIoStatus04 ioStatus04 = new Cbact01cIoStatus04();
    // [T-Up#INFO][CBACT01C.cbl:72] APPL-RESULT (level: 1)
    private @Getter @Setter int applResult;
    // [T-Up#INFO][CBACT01C.cbl:73] APPL-AOK (level: 88)
    public static final int APPL_AOK = 0;
    // [T-Up#INFO][CBACT01C.cbl:74] APPL-EOF (level: 88)
    public static final int APPL_EOF = 16;
    // [T-Up#INFO][CBACT01C.cbl:76] END-OF-FILE (level: 1)
    private @Getter String endOfFile = "N";
    // [T-Up#INFO][CBACT01C.cbl:77] ABCODE (level: 1)
    private @Getter @Setter int abcode;
    // [T-Up#INFO][CBACT01C.cbl:78] TIMING (level: 1)
    private @Getter @Setter int timing;
    // [T-Up#INFO][CBACT01C.cbl:38] FD-ACCTFILE-REC (level: 1)
    private @Getter @Setter Cbact01cFdAcctfileRec fdAcctfileRec = new Cbact01cFdAcctfileRec();

    public Cbact01cTwoBytesAlpha getTwoBytesAlpha() {
        return Cbact01cTwoBytesAlpha.builder().twoBytesLeft(getTwoBytesLeft())
                .twoBytesRight(getTwoBytesRight()).build();
    }

    public void setTwoBytesAlpha(String source) {
        setTwoBytesLeft(source.substring(0, 1));
        setTwoBytesRight(source.substring(1, 2));
    }

    public void setTwoBytesAlpha(Cbact01cTwoBytesAlpha source) {
        setTwoBytesAlpha(source.get());
    }

    public String getTwoBytesLeft() {
        return CobStream.convShortToString((short) getTwoBytesBinary())
                .substring(0, 1);
    }

    public void setTwoBytesLeft(String source) {
        try {
            setTwoBytesBinary(CobStream.convStringToShort(StringUtils.overlay(
                    CobStream.convShortToString((short) getTwoBytesBinary()),
                    source, 0, 1)));
        } catch (NumberFormatException exception) {
            exception.printStackTrace();
            setTwoBytesBinary(0);
        }
    }

    public String getTwoBytesRight() {
        return CobStream.convShortToString((short) getTwoBytesBinary())
                .substring(1, 2);
    }

    public void setTwoBytesRight(String source) {
        try {
            setTwoBytesBinary(CobStream.convStringToShort(StringUtils.overlay(
                    CobStream.convShortToString((short) getTwoBytesBinary()),
                    source, 1, 2)));
        } catch (NumberFormatException exception) {
            exception.printStackTrace();
            setTwoBytesBinary(0);
        }
    }

    public void setEndOfFile(String source) {
        endOfFile = StringUtils.truncate(StringUtils.rightPad(source, 1), 1);
    }

    public static @AllArgsConstructor @NoArgsConstructor @Builder(builderClassName = "builder") class Cbact01cTwoBytesAlpha {
        // [T-Up#INFO][CBACT01C.cbl:66] TWO-BYTES-LEFT (level: 5)
        private @Getter String twoBytesLeft = StringUtils.repeat(' ', 1);
        // [T-Up#INFO][CBACT01C.cbl:67] TWO-BYTES-RIGHT (level: 5)
        private @Getter String twoBytesRight = StringUtils.repeat(' ', 1);

        public String get() {
            StringBuilder sb = new StringBuilder();
            sb.append(twoBytesLeft);
            sb.append(twoBytesRight);
            return sb.toString();
        }

        @Override
        public String toString() {
            StringBuilder sb = new StringBuilder();
            sb.append(getTwoBytesLeft());
            sb.append(getTwoBytesRight());
            return sb.toString();
        }
    }
}
